<div class="dashboard-container">
  <div class="dashboard-cards">
    <nz-card nzTitle="Total de Pacientes" [nzLoading]="isLoading">
      <p class="card-value">{{ totalProfissionalPacients }}</p>
    </nz-card>

    <nz-card nzTitle="Total de Fichas" [nzLoading]="isLoading">
      <p class="card-value">{{ totalReports }}</p>
    </nz-card>

    <nz-card nzTitle="Pacientes com Ficha" [nzLoading]="isLoading">
      <p class="card-value">{{ countByReports?.comReport }}</p>
    </nz-card>

    <nz-card nzTitle="Pacientes sem Ficha" [nzLoading]="isLoading">
      <p class="card-value">{{ countByReports?.semReport }}</p>
    </nz-card>
  </div>

  <div class="dashboard-charts">
    <nz-card nzTitle="Distribuição por Gênero" [nzLoading]="isLoading">
      <canvas baseChart
              [data]="donutChartData"
              [options]="donutChartOptions"
              [type]="'pie'">
      </canvas>
    </nz-card>

    <nz-card nzTitle="Fichas por Mês" [nzLoading]="isLoading">
      <canvas baseChart
              [data]="barChartData"
              [options]="barChartOptions"
              [type]="'bar'">
      </canvas>
    </nz-card>
  </div>

  <nz-card nzTitle="Próximos Agendamentos" [nzLoading]="isLoading">
    <ul *ngIf="nextAppointments?.length">
      <li *ngFor="let app of nextAppointments">
        {{ app.pacientName }} - {{ app.appointmentDateTime | date:'dd/MM/yyyy HH:mm' }}
      </li>
    </ul>
    <p *ngIf="!nextAppointments?.length">Nenhum agendamento futuro encontrado.</p>
  </nz-card>
</div>
